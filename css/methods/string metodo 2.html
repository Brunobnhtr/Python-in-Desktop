<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
<!-- CSS -->
<link rel="stylesheet" href="codemirror\codemirror_min.css">
<link rel="stylesheet" href="codemirror\themedracula.css"> 
  <!-- JS -->
<script src="codemirror\codemirror_min.js"></script> 

<script src="codemirror\python.min.js"></script>  

<script src="codemirror\closebrackets.js"></script>
<script src="codemirror\active_line.js"></script>
<script src="codemirror\placeholder.js"></script>

<link rel="stylesheet" href="styles_method.css"> 

<style>
  /* Definindo vari√°veis para as cores */
:root {
    --primary-color: #dee955; /* Cor principal */
    --text-color: #000000; /* Cor do texto preta */
    --text-shadow-color: #000000; /* Cor da sombra do texto (preta por padr√£o) */
}

/* Estilo do bot√£o */
.method-button {
    color: var(--primary-color); /* Cor do texto com o neon */
    background-color: #101318; /* Fundo preto */
    border: var(--primary-color) 3px solid;
    box-shadow: inset 0 0 8px 0 var(--primary-color), 0 0 8px 0 var(--primary-color);
    text-align: center;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 1em;
    cursor: pointer;
    transition: all 0.3s ease; /* Transi√ß√£o suave para o efeito de hover */
    text-shadow: 2px 2px 4px var(--text-shadow-color); /* Sombra no texto */
}

/* Efeito de hover (ao passar o mouse sobre o bot√£o) */
.method-button:hover {
    color: var(--text-color); /* Muda a cor da letra para preto no hover */
    box-shadow: 0 0 16px 4px var(--primary-color), inset 0 0 4px var(--primary-color); /* Aumenta o brilho no hover */
    text-shadow: 2px 2px 4px var(--text-shadow-color); /* Muda a sombra para a cor prim√°ria ao passar o mouse */
}

/* Quando o bot√£o √© clicado */
.method-button.clicked {
    color: var(--text-color); /* Muda a cor da letra para preto quando clicado */
    box-shadow: inset 0 0 8px 0 var(--primary-color), 0 0 8px 0 var(--primary-color); /* Mant√©m o brilho interno */
    text-shadow: 2px 2px 4px var(--primary-color); /* Mant√©m a sombra neon */
}

/* Estilo para o antes e depois do bot√£o (efeito neon) */
.method-button::before {
    background: var(--primary-color);
}

.method-button::after {
    box-shadow: 0 0 64px 16px var(--primary-color);
    background-color: var(--primary-color);
}

/* Efeito quando o bot√£o est√° selecionado (foco) */
.method-button:focus {
    outline: none; /* Remove o contorno padr√£o */
    color: var(--text-color); /* Garante que a cor do texto seja preta no foco */
    box-shadow: 0 0 16px 4px var(--primary-color), inset 0 0 4px var(--primary-color); /* Efeito de glow no foco */
    text-shadow: 2px 2px 4px var(--primary-color); /* Sombra neon no foco */
}


  table th, table td {
      border: 1px solid var(--primary-color);
      color: var(--primary-color);
  }

  #output {
      color: var(--primary-color);
  }

  #executar:hover {
      background-color: var(--primary-color);
      
  }

  #summary-container {
      border: 1px solid #101318 !important; /* A propriedade !important for√ßa a aplica√ß√£o do estilo */
  }
</style>
  
</head>
<body>
<!-- Container dos bot√µes -->
<div class="button-container">
  <button class="method-button" onclick="showSummary()">Resumo dos M√©todos</button>  
</div>      
<div class="button-container">  
        <button class="method-button" onclick="showDescription('isalpha')">1. isalpha()</button>
        <button class="method-button" onclick="showDescription('isalnum')">2. isalnum()</button>
        <button class="method-button" onclick="showDescription('isdecimal')">3. isdecimal()</button>
        <button class="method-button" onclick="showDescription('isdigit')">4. isdigit()</button>
        <button class="method-button" onclick="showDescription('isnumeric')">5. isnumeric()</button>
        <button class="method-button" onclick="showDescription('isspace')">6. isspace()</button>
        <button class="method-button" onclick="showDescription('islower')">7. islower()</button>
        <button class="method-button" onclick="showDescription('isupper')">8. isupper()</button>
        <button class="method-button" onclick="showDescription('istitle')">9. istitle()</button>
        <button class="method-button" onclick="showDescription('isascii')">10. isascii()</button>
        <button class="method-button" onclick="showDescription('isidentifier')">11. isidentifier()</button>
        <button class="method-button" onclick="showDescription('isprintable')">12. isprintable()</button>
    </div>

    <div id="summary-container" style="display: none; margin-top: 20px; border: 1px solid #ccc; padding: 15px; border-radius: 5px; background-color: #101318;">
        
        <table border="1" style="width: 100%; border-collapse: collapse; text-align: left;">
          <thead>
            <tr>
              <th>M√©todo</th>
              <th>Verifica se a string cont√©m...</th>
              <th>Exemplo (True)</th>
              <th>Exemplo (False)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>isalpha()</code></td>
              <td>Apenas letras alfab√©ticas</td>
              <td><code>"Python"</code></td>
              <td><code>"Python123"</code></td>
            </tr>
            <tr>
              <td><code>isalnum()</code></td>
              <td>Apenas caracteres alfanum√©ricos (letras/n√∫meros)</td>
              <td><code>"Python123"</code></td>
              <td><code>"Python!"</code></td>
            </tr>
            <tr>
              <td><code>isdecimal()</code></td>
              <td>Apenas d√≠gitos decimais (0 a 9)</td>
              <td><code>"12345"</code></td>
              <td><code>"123.45"</code></td>
            </tr>
            <tr>
              <td><code>isdigit()</code></td>
              <td>Apenas d√≠gitos (decimais, subscritos, etc.)</td>
              <td><code>"12345"</code>, <code>"¬≤¬≥"</code></td>
              <td><code>"123.45"</code></td>
            </tr>
            <tr>
              <td><code>isnumeric()</code></td>
              <td>Apenas caracteres num√©ricos</td>
              <td><code>"12345"</code>, <code>"¬Ω"</code></td>
              <td><code>"123.45"</code></td>
            </tr>
            <tr>
              <td><code>isspace()</code></td>
              <td>Apenas espa√ßos em branco</td>
              <td><code>" "</code>, <code>"\t"</code></td>
              <td><code>"Python "</code></td>
            </tr>
            <tr>
              <td><code>islower()</code></td>
              <td>Apenas letras min√∫sculas</td>
              <td><code>"python"</code></td>
              <td><code>"Python"</code></td>
            </tr>
            <tr>
              <td><code>isupper()</code></td>
              <td>Apenas letras mai√∫sculas</td>
              <td><code>"PYTHON"</code></td>
              <td><code>"Python"</code></td>
            </tr>
            <tr>
              <td><code>istitle()</code></td>
              <td>Formato de t√≠tulo</td>
              <td><code>"Python √â Incr√≠vel"</code></td>
              <td><code>"python √© incr√≠vel"</code></td>
            </tr>
            <tr>
              <td><code>isascii()</code></td>
              <td>Apenas caracteres ASCII</td>
              <td><code>"Python123"</code></td>
              <td><code>"P√Ωth√∂n"</code></td>
            </tr>
            <tr>
              <td><code>isidentifier()</code></td>
              <td>Um identificador v√°lido</td>
              <td><code>"variavel"</code>, <code>"_variavel"</code></td>
              <td><code>"123variavel"</code>, <code>"variavel!"</code></td>
            </tr>
            <tr>
              <td><code>isprintable()</code></td>
              <td>Apenas caracteres imprim√≠veis</td>
              <td><code>"Python √© incr√≠vel!"</code></td>
              <td><code>"Python\n"</code></td>
            </tr>
          </tbody>
        </table>
      </div>
      

   
    <!-- Descri√ß√µes abaixo dos bot√µes -->
    
    <div class="description-container">
      <div id="description-text">          
      </div>   
  </div>
  

  

  <p class="hidden">Escreva seu c√≥digo Python abaixo e clique em "Executar".</p>
  <button id ="executar" onclick="runPython()">Executar</button>
  <div style="display: flex; justify-content: space-between; width: 98vw; padding: 20px 0;">
      <div id="editor"></div>
      <div id="output">Resultado ser√° exibido aqui...</div>
  </div>
  
  
  
  <script>   
    // Definindo a vari√°vel EDITOR globalmente
    let EDITOR;

    // Fun√ß√£o para alternar visibilidade entre resumo e conte√∫do
    function showSummary() {
        // Remover a classe 'clicked' de todos os bot√µes
        document.querySelectorAll('.method-button').forEach((btn) => {
            btn.classList.remove('clicked');
        });

        // Adicionar a classe 'clicked' ao bot√£o de resumo
        document.querySelector("button[onclick='showSummary()']").classList.add('clicked');

        // Exibir o resumo e ocultar os outros elementos
        document.getElementById("summary-container").style.display = "block";
        document.getElementById("description-text").style.display = "none";        
        document.getElementById("editor").style.display = "none";
        document.getElementById("output").style.display = "none";
        document.getElementById("executar").style.display = "none"
        document.querySelector("p.hidden").style.display = "none";
        
    } 

    // Fun√ß√£o para exibir descri√ß√£o e editor de c√≥digo
    function showDescription(param) {
        const summaryContainer = document.getElementById("summary-container");
        const descriptionText = document.getElementById("description-text");
        const editor2 = document.getElementById("editor");
        const editoroutput = document.getElementById("output");
        const executar = document.getElementById("executar");
        const editorParagraph = document.querySelector("p.hidden");
        

        summaryContainer.style.display = "none"; // Oculta o resumo        
        descriptionText.style.display = "block"; // Exibe a descri√ß√£o
        editorParagraph.style.display = "block";
        editor2.style.display = "block";        
        // Exibe o output
        editoroutput.style.display = "block"; // Garante que o output seja vis√≠vel        
        executar.style.display = "block";  
        editoroutput.textContent = "Resultado ser√° exibido aqui...";
        
        // Configura√ß√£o do editor CodeMirror
        if (!EDITOR) {  // Verificar se o editor j√° foi inicializado
            EDITOR = CodeMirror(document.getElementById("editor"), {
                mode: "python",
                theme: "dracula",
                lineNumbers: true,
                autoCloseBrackets: true,
                matchBrackets: true,
                styleActiveLine: true,
                placeholder: "Escreva seu c√≥digo Python aqui...",
            });
            // Ajusta o editor para ocupar o tamanho completo do cont√™iner
            EDITOR.setSize("100%", "100%");
        }
        

        // Definir as descri√ß√µes e exemplos com base no bot√£o clicado
        let description = '';
        let code = '';
        switch (param) {
        case 'isalpha':
            description = 'Retorna True se todos os caracteres da string forem letras e houver ao menos um caractere.';
            code = `texto1 = "Python"\ntexto2 = "Python123"\ntexto3 = ""\n\nprint(texto1.isalpha())  # True\nprint(texto2.isalpha())  # False\nprint(texto3.isalpha())  # False`;
            break;

        case 'isalnum':
            description = 'Retorna True se todos os caracteres forem alfanum√©ricos (letras ou n√∫meros) e houver ao menos um caractere.';
            code = `texto1 = "Python123"\ntexto2 = "Python 123"\ntexto3 = ""\n\nprint(texto1.isalnum())  # True\nprint(texto2.isalnum())  # False\nprint(texto3.isalnum())  # False`;
            break;

        case 'isdecimal':
            description = 'Retorna True se todos os caracteres forem d√≠gitos decimais (0 a 9) e houver ao menos um caractere.';
            code = `texto1 = "12345"\ntexto2 = "123.45"\ntexto3 = ""\n\nprint(texto1.isdecimal())  # True\nprint(texto2.isdecimal())  # False\nprint(texto3.isdecimal())  # False`;
            break;

        case 'isdigit':
            description = 'Retorna True se todos os caracteres forem d√≠gitos, incluindo caracteres como ¬≤ ou ¬≥.';
            code = `texto1 = "12345"\ntexto2 = "123.45"\ntexto3 = "¬≤¬≥"\n\nprint(texto1.isdigit())  # True\nprint(texto2.isdigit())  # False\nprint(texto3.isdigit())  # True`;
            break;

        case 'isnumeric':
            description = 'Retorna True se todos os caracteres forem num√©ricos, incluindo n√∫meros fracion√°rios ou romanos.';
            code = `texto1 = "12345"\ntexto2 = "¬Ω"\ntexto3 = "III"\n\nprint(texto1.isnumeric())  # True\nprint(texto2.isnumeric())  # True\nprint(texto3.isnumeric())  # False`;
            break;

        case 'isspace':
            description = 'Retorna True se todos os caracteres forem espa√ßos em branco (como espa√ßos ou tabula√ß√µes).';
            code = `texto1 = "   "\ntexto2 = "\\t"\ntexto3 = "Python "\n\nprint(texto1.isspace())  # True\nprint(texto2.isspace())  # True\nprint(texto3.isspace())  # False`;
            break;

        case 'islower':
            description = 'Retorna True se todos os caracteres alfab√©ticos forem min√∫sculos e houver ao menos uma letra.';
            code = `texto1 = "python"\ntexto2 = "Python"\ntexto3 = "12345"\n\nprint(texto1.islower())  # True\nprint(texto2.islower())  # False\nprint(texto3.islower())  # False`;
            break;

        case 'isupper':
            description = 'Retorna True se todos os caracteres alfab√©ticos forem mai√∫sculos e houver ao menos uma letra.';
            code = `texto1 = "PYTHON"\ntexto2 = "Python"\ntexto3 = "12345"\n\nprint(texto1.isupper())  # True\nprint(texto2.isupper())  # False\nprint(texto3.isupper())  # False`;
            break;

        case 'istitle':
            description = 'Retorna True se a string estiver no formato de t√≠tulo (primeira letra de cada palavra mai√∫scula).';
            code = `texto1 = "Python √â Incr√≠vel"\ntexto2 = "Python √© incr√≠vel"\ntexto3 = "123 Python"\n\nprint(texto1.istitle())  # True\nprint(texto2.istitle())  # False\nprint(texto3.istitle())  # True`;
            break;

        case 'isascii':
            description = 'Retorna True se todos os caracteres forem ASCII (valores entre 0 e 127).';
            code = `texto1 = "Python123"\ntexto2 = "Python √© incr√≠vel"\ntexto3 = "üöÄ"\n\nprint(texto1.isascii())  # True\nprint(texto2.isascii())  # False\nprint(texto3.isascii())  # False`;
            break;

        case 'isidentifier':
            description = 'Verifica se a string √© um identificador v√°lido em Python.';
            code = `texto1 = "variavel"\ntexto2 = "_variavel"\ntexto3 = "3variavel"\ntexto4 = "variavel!"\n\nprint(texto1.isidentifier())  # True\nprint(texto2.isidentifier())  # True\nprint(texto3.isidentifier())  # False\nprint(texto4.isidentifier())  # False`;
            break;

            case 'isprintable':
    description = 'Verifica se todos os caracteres s√£o imprim√≠veis (n√£o cont√©m tabula√ß√µes ou quebras de linha).';
    code = `
texto1 = "Python √© incr√≠vel!"  # Apenas caracteres imprim√≠veis
texto2 = "Python √© incr√≠vel! \\t"  # Cont√©m um caractere de tabula√ß√£o
texto3 = "Python √© incr√≠vel! \\n"  # Cont√©m um caractere de nova linha 

print(texto1.isprintable())  # True
print(texto2.isprintable())  # False
print(texto3.isprintable())  # False
`.trim();
    break;


        default:
            description = 'Clique em um bot√£o para ver a descri√ß√£o e exemplos.';
            code = '';
            break;
        }

       // Atualizar a descri√ß√£o na tela
       descriptionText.innerHTML = `<p><strong>Descri√ß√£o:</strong> ${description}</p>`;

       // Inserir o c√≥digo diretamente no editor CodeMirror
       EDITOR.setValue(code);

        // Remover a classe 'clicked' de todos os bot√µes
        document.querySelectorAll('.method-button').forEach((btn) => {
            btn.classList.remove('clicked');
        });

        // Adicionar a classe 'clicked' ao bot√£o da fun√ß√£o clicada
        document.querySelector(`button[onclick="showDescription('${param}')"]`).classList.add('clicked');
    }

    
     // Configura√ß√£o inicial para mostrar o resumo ao carregar a p√°gina
    window.onload = function () {
      showSummary();
    };

   // No c√≥digo do iframe
    let pyodide;

    if (window.parent.pyodide) {
    pyodide = window.parent.pyodide; // Acessa o Pyodide carregado no index.html

    }

    // Fun√ß√£o para executar o c√≥digo Python
    
async function runPython() {
    const code = EDITOR.getValue();
    const outputDiv = document.getElementById("output");
    outputDiv.textContent = "Executando...";

    try {
        // Fun√ß√£o para capturar as entradas de cada `input()` no c√≥digo
        const inputs = [];
        const regex = /input\((.*?)\)/g;
        let match;

        // Encontrar todas as ocorr√™ncias de input() no c√≥digo
        while ((match = regex.exec(code)) !== null) {
            const promptText = match[1].trim().replace(/['"]/g, ""); // Remover as aspas ao redor da string
            inputs.push(promptText);
        }

        // Criar os campos de entrada correspondentes aos `input()`
        const userInputs = [];
        let inputIndex = 0; // √çndice de controle dos inputs

        // Fun√ß√£o para capturar m√∫ltiplas entradas dentro de la√ßos
        const getInput = async (promptText) => {
            return new Promise(resolve => {
                // Criar o overlay para bloquear o conte√∫do de fora do prompt
                const overlay = document.createElement("div");
                overlay.style.position = "fixed";
                overlay.style.top = "0";
                overlay.style.left = "0";
                overlay.style.width = "100%";
                overlay.style.height = "100%";
                overlay.style.backgroundColor = "rgba(0, 0, 0, 0.5)"; // Cor escura e transparente
                overlay.style.zIndex = "9998"; // Fica atr√°s do prompt container
                document.body.appendChild(overlay);

                // Criar o container do prompt customizado
                const promptContainer = document.createElement("div");
                promptContainer.style.position = "fixed";
                promptContainer.style.top = "50%";
                promptContainer.style.left = "50%";
                promptContainer.style.transform = "translate(-50%, -50%)";
                promptContainer.style.padding = "20px";
                promptContainer.style.backgroundColor = "black";
                promptContainer.style.boxShadow = "0 0 15px rgba(0, 0, 0, 0.2)";
                promptContainer.style.borderRadius = "10px";
                promptContainer.style.zIndex = "9999";
                promptContainer.style.textAlign = "center";
                promptContainer.style.minWidth = "250px";

                // Texto do prompt
                const promptTextElement = document.createElement("p");
                promptTextElement.textContent = promptText;
                promptTextElement.style.fontSize = "16px";
                promptContainer.appendChild(promptTextElement);

                // Campo de entrada
                const inputField = document.createElement("input");
                inputField.setAttribute("type", "text");
                inputField.setAttribute("placeholder", "Digite aqui...");
                inputField.style.marginTop = "10px";
                inputField.style.padding = "10px";
                inputField.style.fontSize = "16px";
                inputField.style.borderRadius = "5px";
                inputField.style.border = "2px solid #007BFF";
                inputField.style.width = "80%";
                inputField.style.boxSizing = "border-box";
                promptContainer.appendChild(inputField);

                // Bot√µes "OK" e "Cancelar"
                const buttonContainer = document.createElement("div");
                buttonContainer.style.marginTop = "20px";

                const okButton = document.createElement("button");
                okButton.textContent = "OK";
                okButton.style.padding = "10px 20px";
                okButton.style.marginRight = "10px";
                okButton.style.fontSize = "16px";
                okButton.style.backgroundColor = "#007BFF";
                okButton.style.color = "white";
                okButton.style.border = "none";
                okButton.style.borderRadius = "5px";
                okButton.style.cursor = "pointer";
                buttonContainer.appendChild(okButton);

                const cancelButton = document.createElement("button");
                cancelButton.textContent = "Cancelar";
                cancelButton.style.padding = "10px 20px";
                cancelButton.style.fontSize = "16px";
                cancelButton.style.backgroundColor = "#FF4136";
                cancelButton.style.color = "white";
                cancelButton.style.border = "none";
                cancelButton.style.borderRadius = "5px";
                cancelButton.style.cursor = "pointer";
                buttonContainer.appendChild(cancelButton);

                promptContainer.appendChild(buttonContainer);
                document.body.appendChild(promptContainer);

                // Focar automaticamente no campo de entrada assim que o prompt aparecer
                inputField.focus();

                // Fun√ß√£o de resolu√ß√£o quando os bot√µes s√£o clicados
                okButton.addEventListener("click", () => {
                    resolve(inputField.value.trim() === "" ? "" : inputField.value); // Se vazio, envia ""
                    document.body.removeChild(promptContainer);
                    document.body.removeChild(overlay);
                });

                cancelButton.addEventListener("click", () => {
                    resolve(""); // Se cancelar, envia vazio ""
                    document.body.removeChild(promptContainer);
                    document.body.removeChild(overlay);
                });

                inputField.addEventListener("keydown", function(event) {
                    if (event.key === 'Enter') {
                        okButton.click(); // Simula o clique no "OK" ao pressionar "Enter"
                    }
                });
            });
        };

        // Processar os inputs em sequ√™ncia, em la√ßos ou chamadas subsequentes
        for (let i = 0; i < inputs.length; i++) {
            const userInput = await getInput(inputs[i]);
            userInputs.push(userInput);
        }

        // Substituir os inputs no c√≥digo Python com os valores fornecidos pelo usu√°rio
        let modifiedCode = code;
        for (let i = 0; i < inputs.length; i++) {
            modifiedCode = modifiedCode.replace(`input("${inputs[i]}")`, `"${userInputs[i]}"`);
        }

        // Encapsulando o c√≥digo do usu√°rio com a captura das entradas
        

        
 const wrappedCode = `
import sys
import logging
from io import StringIO

# Limpa configura√ß√µes de logging anteriores
for handler in logging.root.handlers[:]:
    logging.root.removeHandler(handler)

# Cria um novo capturador para redirecionar os logs para o StringIO
log_stream = StringIO()
logging.basicConfig(level=logging.DEBUG, stream=log_stream, format='%(levelname)s: %(message)s')

# Substituindo os inputs no c√≥digo do usu√°rio com os valores fornecidos
def input(prompt=""):
    return "${userInputs.join('", "')}"  # Substitui entradas conforme fornecido

# Fun√ß√£o de log personalizada para capturar logs
def log(message):
    logging.debug(message)

# Redefine a sa√≠da para capturar logs e stdout
old_stdout = sys.stdout
sys.stdout = mystdout = StringIO()

# C√≥digo do usu√°rio
code = ${JSON.stringify(modifiedCode)}

try:
    # Executa o c√≥digo fornecido pelo usu√°rio
    exec(code)

    # Verifica se os logs foram gerados e inclui na sa√≠da
    result = mystdout.getvalue()
    logs = log_stream.getvalue()
    if logs:  # S√≥ adiciona os logs se houver algum
        result += "\\n\\nLogs:\\n" + logs  # Corrigido para escapar as quebras de linha

except Exception as e:
    # Captura o erro ocorrido durante a execu√ß√£o
    result = f"Erro: {e}"

# Restaura a sa√≠da padr√£o
sys.stdout = old_stdout
result
`;



        // Executando o c√≥digo com a entrada fornecida
        const result = await pyodide.runPythonAsync(wrappedCode);
        outputDiv.textContent = result.trim();
        
    } catch (error) {
        outputDiv.textContent = `Erro: ${error.message}`;
    }
}


  </script>


</body>
</html>